define(["jquery"],function(a){return{init:function(b,c,d,e){function f(){c.forEach(function(b){var c=a("."+b+":checkbox:checked").length;c===a("."+b+":checkbox").length?(a("#id_enable"+j(b)+"s").addClass("active"),a("#id_disable"+j(b)+"s").removeClass("active")):0===c?(a("#id_disable"+j(b)+"s").addClass("active"),a("#id_enable"+j(b)+"s").removeClass("active")):(a("#id_enable"+j(b)+"s").removeClass("active"),a("#id_disable"+j(b)+"s").removeClass("active"))})}function g(){for(var c=2;c<=b;c++){var d=a(".checkboxgroup"+c+":checkbox:checked").length;d===a(".checkboxgroup"+c+":checkbox").length?(a("#id_enable_"+c).addClass("active"),a("#id_disable_"+c).removeClass("active")):0===d?(a("#id_disable_"+c).addClass("active"),a("#id_enable_"+c).removeClass("active")):(a("#id_disable_"+c).removeClass("active"),a("#id_enable_"+c).removeClass("active"))}}function h(b){a(".check_section_"+b.data.id).prop("checked",!0),a(this).addClass("active"),a("#id_disable_"+b.data.id).removeClass("active"),f()}function i(b){a(".check_section_"+b.data.id).prop("checked",!1),a(this).addClass("active"),a("#id_enable_"+b.data.id).removeClass("active"),f()}function j(a){return a.charAt(0).toUpperCase()+a.slice(1)}function k(b){a(this).is(":checked")?(a("#id_disable_"+b.data.id).removeClass("active"),a("#id_disable"+j(b.data.type)+"s").removeClass("active")):(a("#id_enable_"+b.data.id).removeClass("active"),a("#id_enable"+j(b.data.type)+"s").removeClass("active"));var c=a(".checkboxgroup"+b.data.id+":checkbox:checked").length;c===a(".checkboxgroup"+b.data.id+":checkbox").length?a("#id_enable_"+b.data.id).addClass("active"):0===c&&a("#id_disable_"+b.data.id).addClass("active");var d=a("."+b.data.type+":checkbox:checked").length;d===a("."+b.data.type+":checkbox").length?a("#id_enable"+j(b.data.type)+"s").addClass("active"):0===d&&a("#id_disable"+j(b.data.type)+"s").addClass("active")}function l(a){var b;if(b=void 0!==this.value?parseInt(this.value):a.data.value,0!==b){var c;switch(b){case 1:c=e.greentrack;break;case 2:c=e.bluetrack;break;case 3:c=e.redtrack;break;case 4:c=e.blacktrack}a.data.module.css({"background-color":c,color:"white"})}else a.data.module.css({"background-color":"",color:""})}function m(){a("#id_config_enable_likes_checkbox").is(":checked")||a("#id_config_enable_difficulties_checkbox").is(":checked")?a("#id_activities").css({display:""}):a("#id_activities").css({display:"none"}),a("#id_config_enable_likes_checkbox").is(":checked")?a("#id_config_images").css({display:""}):a("#id_config_images").css({display:"none"})}a("#id_go_to_save").click(function(){window.location="#id_submitbutton"}).removeClass("btn-secondary").addClass("btn-primary"),a("#id_close_field").click(function(){a("#id_activities").addClass("collapsed"),document.body.scrollTop=0,document.documentElement.scrollTop=0}),d.forEach(function(b){var c=a("#id_config_moduleselectm"+b).attr("class");if(void 0!==c){var d=c.split(" "),e=null,f=null,g=["book","chat","file","forum","glossary","page","quiz","resource","url","vpl","wiki"];d.forEach(function(a){g.indexOf(a)!==-1&&(e=g[g.indexOf(a)]),a.search("check_section_")!==-1&&(f=a.match(/\d+/))}),console.log("classes : {"+d+"}, id: "+f+", type: "+e),a("#id_config_moduleselectm"+b).click({id:f,type:e},k)}var h=parseInt(a("#id_config_difficulty_"+b+" :selected").val()),i=a("#id_config_difficulty_"+b);l({data:{value:h,module:i}}),i.change({module:i},l)});for(var n=2;n<=b;n++)a("#id_enable_"+n).click({id:n},h).removeClass("btn-secondary").addClass("btn-outline-success"),a("#id_disable_"+n).click({id:n},i).removeClass("btn-secondary").addClass("btn-outline-danger");g(),c.forEach(function(b){a("#id_enable"+j(b)+"s").click(function(){a("input."+b).prop("checked",!0),a(this).addClass("active"),a("#id_disable"+j(b)+"s").removeClass("active"),g()}).removeClass("btn-secondary").addClass("btn-outline-success"),a("#id_disable"+j(b)+"s").click(function(){a("input."+b).prop("checked",!1),a(this).addClass("active"),a("#id_enable"+j(b)+"s").removeClass("active"),g()}).removeClass("btn-secondary").addClass("btn-outline-danger"),f()}),a("#id_config_reset_pix").click(function(){a("#id_config_enable_pix_checkbox:checked").prop("checked",!1),a("#mform1").submit()}),m(),a("#id_config_enable_likes_checkbox").click(m),a("#id_config_enable_difficulties_checkbox").click(m)}}});