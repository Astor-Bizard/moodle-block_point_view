define(["jquery"],function(a){return{init:function(b,c){a(function(){function d(){var b=parseInt(n.getElementsByClassName("easy_nb")[0].innerText),c=parseInt(n.getElementsByClassName("better_nb")[0].innerText),d=parseInt(n.getElementsByClassName("hard_nb")[0].innerText),e="";b&&(e+="E"),c&&(e+="B"),d&&(e+="H"),a("#module-19 .group_img").attr("src","../blocks/like/img/group_"+e+".png")}var e=b,f=c,g='<div class="reactions"><!-- EASY ! --><span class="tooltip"><img src="../blocks/like/img//easy.png" alt=" " class="easy"/><span class="tooltiptext easy_txt">Fastoche !</span></span><span class="easy_nb">'+e.typeone+'</span><!-- I\'M GETTING BETTER --><span class="tooltip"><img src="../blocks/like/img//better.png" alt=" " class="better"/><span class="tooltiptext better_txt">Je m\'am√©liore !</span></span><span class="better_nb">'+e.typetwo+'</span><!-- SO HARD... --><span class="tooltip"><img src="../blocks/like/img//hard.png" alt=" " class="hard"/><span class="tooltiptext hard_txt">Dur dur...</span></span><span class="hard_nb">'+e.typethree+'</span></div><!-- GROUP --><div class="group"><img src="" alt=" " class="group_img"/><span class="group_nb">'+e.total+"</span></div>";a("#module-19 .activityinstance").append(g);var h,i,j,k=!1,l={NULL:0,EASY:1,BETTER:2,HARD:3};switch(parseInt(e.uservote)){case 0:j=l.NULL;break;case 1:j=l.EASY,a("#module-19 .easy_nb").css({"font-weight":"bold",color:"#5585B6"});break;case 2:j=l.BETTER,a("#module-19 .better_nb").css({"font-weight":"bold",color:"#5585B6"});break;case 3:j=l.HARD,a("#module-19 .hard_nb").css({"font-weight":"bold",color:"#5585B6"})}var m,n=document.getElementById("module-19");d(),a("#module-19 .group_img").mouseover(function(){a(this).css({cursor:"pointer"}),a(this).animate({top:-1.5,left:-3,height:23},100),a(this).clearQueue();var b=this;h=setTimeout(function(){0===parseInt(n.getElementsByClassName("easy_nb")[0].innerText)&&a("#module-19 .easy").attr("src","../blocks/like/img//easy_BW.png"),0===parseInt(n.getElementsByClassName("better_nb")[0].innerText)&&a("#module-19 .better").attr("src","../blocks/like/img//better_BW.png"),0===parseInt(n.getElementsByClassName("hard_nb")[0].innerText)&&a("#module-19 .hard").attr("src","../blocks/like/img//hard_BW.png"),a(b).animate({top:13,left:20,height:0},300),a(b).hide(0),a("#module-19 .group_nb").delay(50).hide(300),a("#module-19 .easy").delay(50).animate({top:-15,left:-20,height:20},300).css({"pointer-events":"auto"}),a("#module-19 .easy_nb").delay(50).show(300),a("#module-19 .better").delay(200).animate({top:-15,left:25,height:20},300).css({"pointer-events":"auto"}),a("#module-19 .better_nb").delay(200).show(300),a("#module-19 .hard").delay(400).animate({top:-15,left:70,height:20},300).css({"pointer-events":"auto"}),a("#module-19 .hard_nb").delay(400).show(300)},500);var c=this;clearTimeout(i),i=setTimeout(function(){k||(a("#module-19 .hard").css({"pointer-events":"none"}).delay(50).animate({top:-7.5,left:80,height:0},500),a("#module-19 .hard_nb").delay(50).hide(300),a("#module-19 .better").css({"pointer-events":"none"}).delay(300).animate({top:-7.5,left:35,height:0},500),a("#module-19 .better_nb").delay(300).hide(300),a("#module-19 .easy").css({"pointer-events":"none"}).delay(600).animate({top:-7.5,left:-10,height:0},500),a("#module-19 .easy_nb").delay(600).hide(300),d(),a(c).show(0),a(c).delay(500).animate({top:0,left:0,height:20},300),a("#module-19 .group_nb").delay(600).show(300))},3e3)}).mouseout(function(){clearTimeout(h),"0px"===a("#module-19 .easy").css("height")&&(a(this).animate({top:0,left:0,height:20},100),a(this).clearQueue())}),a("#module-19 .easy").mouseover(function(){var b=n.getElementsByClassName("easy_txt")[0].innerText,c=b.length;a("#module-19 .tooltip .tooltiptext").css({width:7*c+"px",left:"15px"}),a(this).css({cursor:"pointer"}),a(this).animate({top:-25,left:-30,height:40},100),a(this).clearQueue()}).mouseout(function(){a(this).animate({top:-15,left:-20,height:20},100),a(this).clearQueue()}).click(function(){var b=parseInt(n.getElementsByClassName("easy_nb")[0].innerText);switch(m=parseInt(n.getElementsByClassName("group_nb")[0].innerText),0===b&&a("#module-19 .easy").attr("src","../blocks/like/img//easy.png"),j){case l.EASY:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"remove",userid:f,cmid:19,type:1,vote:l.EASY},success:function(a){console.log(a)}}),b-=1,n.getElementsByClassName("easy_nb")[0].innerText=b,a("#module-19 .easy_nb").css({"font-weight":"normal",color:"black"}),0===b&&a("#module-19 .easy").attr("src","../blocks/like/img//easy_BW.png"),n.getElementsByClassName("group_nb")[0].innerText=m-1,j=l.NULL;break;case l.BETTER:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:f,cmid:19,type:1,vote:l.EASY},success:function(a){console.log(a)}}),n.getElementsByClassName("easy_nb")[0].innerText=b+1,a("#module-19 .easy_nb").css({"font-weight":"bold",color:"#5585B6"});var c=parseInt(n.getElementsByClassName("better_nb")[0].innerText)-1;n.getElementsByClassName("better_nb")[0].innerText=c,a("#module-19 .better_nb").css({"font-weight":"normal",color:"black"}),0===c&&a("#module-19 .better").attr("src","../blocks/like/img//better_BW.png"),j=l.EASY;break;case l.HARD:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:f,cmid:19,type:1,vote:l.EASY},success:function(a){console.log(a)}}),n.getElementsByClassName("easy_nb")[0].innerText=b+1,a("#module-19 .easy_nb").css({"font-weight":"bold",color:"#5585B6"});var d=parseInt(n.getElementsByClassName("hard_nb")[0].innerText)-1;n.getElementsByClassName("hard_nb")[0].innerText=d,a("#module-19 .hard_nb").css({"font-weight":"normal",color:"black"}),0===d&&a("#module-19 .hard").attr("src","../blocks/like/img//hard_BW.png"),j=l.EASY;break;case l.NULL:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"insert",userid:f,cmid:19,type:1,vote:l.EASY},success:function(a){console.log(a)}}),n.getElementsByClassName("easy_nb")[0].innerText=b+1,a("#module-19 .easy_nb").css({"font-weight":"bold",color:"#5585B6"}),n.getElementsByClassName("group_nb")[0].innerText=m+1,j=l.EASY}}),a("#module-19 .better").mouseover(function(){var b=document.getElementById("module-19").getElementsByClassName("better_txt")[0].innerText,c=b.length;a("#module-19 .tooltip .tooltiptext").css({width:7*c+"px",left:"40px"}),a(this).css({cursor:"pointer"}),a(this).animate({top:-25,left:15,height:40},100),a(this).clearQueue()}).mouseout(function(){a(this).animate({top:-15,left:25,height:20},100),a(this).clearQueue()}).click(function(){var b=parseInt(n.getElementsByClassName("better_nb")[0].innerText);switch(m=parseInt(n.getElementsByClassName("group_nb")[0].innerText),0===b&&a("#module-19 .better").attr("src","../blocks/like/img//better.png"),j){case l.BETTER:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"remove",userid:f,cmid:19,type:1,vote:l.BETTER},success:function(a){console.log(a)}}),b-=1,n.getElementsByClassName("better_nb")[0].innerText=b,a("#module-19 .better_nb").css({"font-weight":"normal",color:"black"}),0===b&&a("#module-19 .better").attr("src","../blocks/like/img//better_BW.png"),n.getElementsByClassName("group_nb")[0].innerText=m-1,j=l.NULL;break;case l.EASY:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:f,cmid:19,type:1,vote:l.BETTER},success:function(a){console.log(a)}}),n.getElementsByClassName("better_nb")[0].innerText=b+1,a("#module-19 .better_nb").css({"font-weight":"bold",color:"#5585B6"});var c=parseInt(n.getElementsByClassName("easy_nb")[0].innerText)-1;n.getElementsByClassName("easy_nb")[0].innerText=c,a("#module-19 .easy_nb").css({"font-weight":"normal",color:"black"}),0===c&&a("#module-19 .easy").attr("src","../blocks/like/img//easy_BW.png"),j=l.BETTER;break;case l.HARD:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:f,cmid:19,type:1,vote:l.BETTER},success:function(a){console.log(a)}}),n.getElementsByClassName("better_nb")[0].innerText=b+1,a("#module-19 .better_nb").css({"font-weight":"bold",color:"#5585B6"});var d=parseInt(n.getElementsByClassName("hard_nb")[0].innerText)-1;n.getElementsByClassName("hard_nb")[0].innerText=d,a("#module-19 .hard_nb").css({"font-weight":"normal",color:"black"}),0===d&&a("#module-19 .hard").attr("src","../blocks/like/img//hard_BW.png"),j=l.BETTER;break;case l.NULL:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"insert",userid:f,cmid:19,type:1,vote:l.BETTER},success:function(a){console.log(a)}}),n.getElementsByClassName("better_nb")[0].innerText=b+1,a("#module-19 .better_nb").css({"font-weight":"bold",color:"#5585B6"}),n.getElementsByClassName("group_nb")[0].innerText=m+1,j=l.BETTER}}),a("#module-19 .hard").mouseover(function(){var b=n.getElementsByClassName("hard_txt")[0].innerText,c=b.length;a("#module-19 .tooltip .tooltiptext").css({width:7*c+"px",left:"105px"}),a(this).css({cursor:"pointer"}),a(this).animate({top:-25,left:60,height:40},100),a(this).clearQueue()}).mouseout(function(){a(this).animate({top:-15,left:70,height:20},100),a(this).clearQueue()}).click(function(){var b=parseInt(n.getElementsByClassName("hard_nb")[0].innerText);switch(m=parseInt(n.getElementsByClassName("group_nb")[0].innerText),0===b&&a("#module-19 .hard").attr("src","../blocks/like/img//hard.png"),j){case l.HARD:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"remove",userid:f,cmid:19,type:1,vote:l.HARD},success:function(a){console.log(a)}}),b-=1,n.getElementsByClassName("hard_nb")[0].innerText=b,a("#module-19 .hard_nb").css({"font-weight":"normal",color:"black"}),0===b&&a("#module-19 .hard").attr("src","../blocks/like/img//hard_BW.png"),n.getElementsByClassName("group_nb")[0].innerText=m-1,j=l.NULL;break;case l.EASY:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:f,cmid:19,type:1,vote:l.HARD},success:function(a){console.log(a)}}),n.getElementsByClassName("hard_nb")[0].innerText=b+1,a("#module-19 .hard_nb").css({"font-weight":"bold",color:"#5585B6"});var c=parseInt(n.getElementsByClassName("easy_nb")[0].innerText)-1;n.getElementsByClassName("easy_nb")[0].innerText=c,a("#module-19 .easy_nb").css({"font-weight":"normal",color:"black"}),0===c&&a("#module-19 .easy").attr("src","../blocks/like/img//easy_BW.png"),j=l.HARD;break;case l.BETTER:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:f,cmid:19,type:1,vote:l.HARD},success:function(a){console.log(a)}}),n.getElementsByClassName("hard_nb")[0].innerText=b+1,a("#module-19 .hard_nb").css({"font-weight":"bold",color:"#5585B6"});var d=parseInt(n.getElementsByClassName("better_nb")[0].innerText)-1;n.getElementsByClassName("better_nb")[0].innerText=d,a("#module-19 .better_nb").css({"font-weight":"normal",color:"black"}),0===d&&a("#module-19 .better").attr("src","../blocks/like/img//better_BW.png"),j=l.HARD;break;case l.NULL:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"insert",userid:f,cmid:19,type:1,vote:l.HARD},success:function(a){console.log(a)}}),n.getElementsByClassName("hard_nb")[0].innerText=b+1,a("#module-19 .hard_nb").css({"font-weight":"bold",color:"#5585B6"}),n.getElementsByClassName("group_nb")[0].innerText=m+1,j=l.HARD}}),a("#module-19 .reactions").mouseover(function(){k=!0}).mouseout(function(){k=!1,clearTimeout(i),i=setTimeout(function(){k||(a("#module-19 .hard").css({"pointer-events":"none"}).delay(50).animate({top:-7.5,left:80,height:0},500),a("#module-19 .hard_nb").delay(50).hide(300),a("#module-19 .better").css({"pointer-events":"none"}).delay(300).animate({top:-7.5,left:35,height:0},500),a("#module-19 .better_nb").delay(300).hide(300),a("#module-19 .easy").css({"pointer-events":"none"}).delay(600).animate({top:-7.5,left:-10,height:0},500),a("#module-19 .easy_nb").delay(600).hide(300),d(),a("#module-19 .group_img").show(0).delay(500).animate({top:0,left:0,height:20},300),a("#module-19 .group_nb").delay(600).show(300))},1e3)})})}}});