define(["jquery"],function(a){return{init:function(b,c){a(function(){function d(){var b=parseInt(p.getElementsByClassName("easy_nb")[0].innerText),c=parseInt(p.getElementsByClassName("better_nb")[0].innerText),d=parseInt(p.getElementsByClassName("hard_nb")[0].innerText),e="";b&&(e+="E"),c&&(e+="B"),d&&(e+="H"),a("#module-19 .group_img").attr("src","../blocks/like/img/group_"+e+".png")}var e,f=b,g=c,h=!1;f.forEach(function(a){"19"===a.cmid&&(e=a,h=!0)}),h||(e={cmid:"19",type:"1",total:"0",typeone:"0",typetwo:"0",typethree:"0",uservote:"0"});var i='<div class="reactions"><!-- EASY ! --><span class="tooltip"><img src="../blocks/like/img/easy.png" alt=" " class="easy"/><span class="tooltiptext easy_txt">Fastoche !</span></span><span class="easy_nb">'+e.typeone+'</span><!-- I\'M GETTING BETTER --><span class="tooltip"><img src="../blocks/like/img/better.png" alt=" " class="better"/><span class="tooltiptext better_txt">Je m\'am√©liore !</span></span><span class="better_nb">'+e.typetwo+'</span><!-- SO HARD... --><span class="tooltip"><img src="../blocks/like/img/hard.png" alt=" " class="hard"/><span class="tooltiptext hard_txt">Dur dur...</span></span><span class="hard_nb">'+e.typethree+'</span></div><!-- GROUP --><div class="group"><img src="" alt=" " class="group_img"/><span class="group_nb">'+e.total+"</span></div>";a("#module-19 .activityinstance").append(i);var j,k,l,m=!1,n={NULL:0,EASY:1,BETTER:2,HARD:3};switch(parseInt(e.uservote)){case 1:l=n.EASY,a("#module-19 .easy_nb").css({"font-weight":"bold",color:"#5585B6"});break;case 2:l=n.BETTER,a("#module-19 .better_nb").css({"font-weight":"bold",color:"#5585B6"});break;case 3:l=n.HARD,a("#module-19 .hard_nb").css({"font-weight":"bold",color:"#5585B6"});break;default:l=n.NULL}var o,p=document.getElementById("module-19");d(),a("#module-19 .group_img").mouseover(function(){a(this).css({cursor:"pointer"}),a(this).animate({top:-1.5,left:-3,height:23},100),a(this).clearQueue();var b=this;j=setTimeout(function(){0===parseInt(p.getElementsByClassName("easy_nb")[0].innerText)&&a("#module-19 .easy").attr("src","../blocks/like/img//easy_BW.png"),0===parseInt(p.getElementsByClassName("better_nb")[0].innerText)&&a("#module-19 .better").attr("src","../blocks/like/img//better_BW.png"),0===parseInt(p.getElementsByClassName("hard_nb")[0].innerText)&&a("#module-19 .hard").attr("src","../blocks/like/img//hard_BW.png"),a(b).animate({top:13,left:20,height:0},300),a(b).hide(0),a("#module-19 .group_nb").delay(50).hide(300),a("#module-19 .easy").delay(50).animate({top:-15,left:-20,height:20},300).css({"pointer-events":"auto"}),a("#module-19 .easy_nb").delay(50).show(300),a("#module-19 .better").delay(200).animate({top:-15,left:25,height:20},300).css({"pointer-events":"auto"}),a("#module-19 .better_nb").delay(200).show(300),a("#module-19 .hard").delay(400).animate({top:-15,left:70,height:20},300).css({"pointer-events":"auto"}),a("#module-19 .hard_nb").delay(400).show(300)},500);var c=this;clearTimeout(k),k=setTimeout(function(){m||(a("#module-19 .hard").css({"pointer-events":"none"}).delay(50).animate({top:-7.5,left:80,height:0},500),a("#module-19 .hard_nb").delay(50).hide(300),a("#module-19 .better").css({"pointer-events":"none"}).delay(300).animate({top:-7.5,left:35,height:0},500),a("#module-19 .better_nb").delay(300).hide(300),a("#module-19 .easy").css({"pointer-events":"none"}).delay(600).animate({top:-7.5,left:-10,height:0},500),a("#module-19 .easy_nb").delay(600).hide(300),d(),a(c).show(0),a(c).delay(500).animate({top:0,left:0,height:20},300),a("#module-19 .group_nb").delay(600).show(300))},3e3)}).mouseout(function(){clearTimeout(j),"0px"===a("#module-19 .easy").css("height")&&(a(this).animate({top:0,left:0,height:20},100),a(this).clearQueue())}),a("#module-19 .easy").mouseover(function(){var b=p.getElementsByClassName("easy_txt")[0].innerText,c=b.length;a("#module-19 .tooltip .tooltiptext").css({width:7*c+"px",left:"15px"}),a(this).css({cursor:"pointer"}),a(this).animate({top:-25,left:-30,height:40},100),a(this).clearQueue()}).mouseout(function(){a(this).animate({top:-15,left:-20,height:20},100),a(this).clearQueue()}).click(function(){var b=parseInt(p.getElementsByClassName("easy_nb")[0].innerText);switch(o=parseInt(p.getElementsByClassName("group_nb")[0].innerText),0===b&&a("#module-19 .easy").attr("src","../blocks/like/img//easy.png"),l){case n.EASY:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"remove",userid:g,cmid:19,type:1,vote:n.EASY},success:function(a){console.log(a)}}),b-=1,p.getElementsByClassName("easy_nb")[0].innerText=b,a("#module-19 .easy_nb").css({"font-weight":"normal",color:"black"}),0===b&&a("#module-19 .easy").attr("src","../blocks/like/img//easy_BW.png"),p.getElementsByClassName("group_nb")[0].innerText=o-1,l=n.NULL;break;case n.BETTER:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:g,cmid:19,type:1,vote:n.EASY},success:function(a){console.log(a)}}),p.getElementsByClassName("easy_nb")[0].innerText=b+1,a("#module-19 .easy_nb").css({"font-weight":"bold",color:"#5585B6"});var c=parseInt(p.getElementsByClassName("better_nb")[0].innerText)-1;p.getElementsByClassName("better_nb")[0].innerText=c,a("#module-19 .better_nb").css({"font-weight":"normal",color:"black"}),0===c&&a("#module-19 .better").attr("src","../blocks/like/img//better_BW.png"),l=n.EASY;break;case n.HARD:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:g,cmid:19,type:1,vote:n.EASY},success:function(a){console.log(a)}}),p.getElementsByClassName("easy_nb")[0].innerText=b+1,a("#module-19 .easy_nb").css({"font-weight":"bold",color:"#5585B6"});var d=parseInt(p.getElementsByClassName("hard_nb")[0].innerText)-1;p.getElementsByClassName("hard_nb")[0].innerText=d,a("#module-19 .hard_nb").css({"font-weight":"normal",color:"black"}),0===d&&a("#module-19 .hard").attr("src","../blocks/like/img//hard_BW.png"),l=n.EASY;break;case n.NULL:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"insert",userid:g,cmid:19,type:1,vote:n.EASY},success:function(a){console.log(a)}}),p.getElementsByClassName("easy_nb")[0].innerText=b+1,a("#module-19 .easy_nb").css({"font-weight":"bold",color:"#5585B6"}),p.getElementsByClassName("group_nb")[0].innerText=o+1,l=n.EASY}}),a("#module-19 .better").mouseover(function(){var b=document.getElementById("module-19").getElementsByClassName("better_txt")[0].innerText,c=b.length;a("#module-19 .tooltip .tooltiptext").css({width:7*c+"px",left:"40px"}),a(this).css({cursor:"pointer"}),a(this).animate({top:-25,left:15,height:40},100),a(this).clearQueue()}).mouseout(function(){a(this).animate({top:-15,left:25,height:20},100),a(this).clearQueue()}).click(function(){var b=parseInt(p.getElementsByClassName("better_nb")[0].innerText);switch(o=parseInt(p.getElementsByClassName("group_nb")[0].innerText),0===b&&a("#module-19 .better").attr("src","../blocks/like/img//better.png"),l){case n.BETTER:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"remove",userid:g,cmid:19,type:1,vote:n.BETTER},success:function(a){console.log(a)}}),b-=1,p.getElementsByClassName("better_nb")[0].innerText=b,a("#module-19 .better_nb").css({"font-weight":"normal",color:"black"}),0===b&&a("#module-19 .better").attr("src","../blocks/like/img//better_BW.png"),p.getElementsByClassName("group_nb")[0].innerText=o-1,l=n.NULL;break;case n.EASY:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:g,cmid:19,type:1,vote:n.BETTER},success:function(a){console.log(a)}}),p.getElementsByClassName("better_nb")[0].innerText=b+1,a("#module-19 .better_nb").css({"font-weight":"bold",color:"#5585B6"});var c=parseInt(p.getElementsByClassName("easy_nb")[0].innerText)-1;p.getElementsByClassName("easy_nb")[0].innerText=c,a("#module-19 .easy_nb").css({"font-weight":"normal",color:"black"}),0===c&&a("#module-19 .easy").attr("src","../blocks/like/img//easy_BW.png"),l=n.BETTER;break;case n.HARD:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:g,cmid:19,type:1,vote:n.BETTER},success:function(a){console.log(a)}}),p.getElementsByClassName("better_nb")[0].innerText=b+1,a("#module-19 .better_nb").css({"font-weight":"bold",color:"#5585B6"});var d=parseInt(p.getElementsByClassName("hard_nb")[0].innerText)-1;p.getElementsByClassName("hard_nb")[0].innerText=d,a("#module-19 .hard_nb").css({"font-weight":"normal",color:"black"}),0===d&&a("#module-19 .hard").attr("src","../blocks/like/img//hard_BW.png"),l=n.BETTER;break;case n.NULL:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"insert",userid:g,cmid:19,type:1,vote:n.BETTER},success:function(a){console.log(a)}}),p.getElementsByClassName("better_nb")[0].innerText=b+1,a("#module-19 .better_nb").css({"font-weight":"bold",color:"#5585B6"}),p.getElementsByClassName("group_nb")[0].innerText=o+1,l=n.BETTER}}),a("#module-19 .hard").mouseover(function(){var b=p.getElementsByClassName("hard_txt")[0].innerText,c=b.length;a("#module-19 .tooltip .tooltiptext").css({width:7*c+"px",left:"105px"}),a(this).css({cursor:"pointer"}),a(this).animate({top:-25,left:60,height:40},100),a(this).clearQueue()}).mouseout(function(){a(this).animate({top:-15,left:70,height:20},100),a(this).clearQueue()}).click(function(){var b=parseInt(p.getElementsByClassName("hard_nb")[0].innerText);switch(o=parseInt(p.getElementsByClassName("group_nb")[0].innerText),0===b&&a("#module-19 .hard").attr("src","../blocks/like/img//hard.png"),l){case n.HARD:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"remove",userid:g,cmid:19,type:1,vote:n.HARD},success:function(a){console.log(a)}}),b-=1,p.getElementsByClassName("hard_nb")[0].innerText=b,a("#module-19 .hard_nb").css({"font-weight":"normal",color:"black"}),0===b&&a("#module-19 .hard").attr("src","../blocks/like/img//hard_BW.png"),p.getElementsByClassName("group_nb")[0].innerText=o-1,l=n.NULL;break;case n.EASY:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:g,cmid:19,type:1,vote:n.HARD},success:function(a){console.log(a)}}),p.getElementsByClassName("hard_nb")[0].innerText=b+1,a("#module-19 .hard_nb").css({"font-weight":"bold",color:"#5585B6"});var c=parseInt(p.getElementsByClassName("easy_nb")[0].innerText)-1;p.getElementsByClassName("easy_nb")[0].innerText=c,a("#module-19 .easy_nb").css({"font-weight":"normal",color:"black"}),0===c&&a("#module-19 .easy").attr("src","../blocks/like/img//easy_BW.png"),l=n.HARD;break;case n.BETTER:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"update",userid:g,cmid:19,type:1,vote:n.HARD},success:function(a){console.log(a)}}),p.getElementsByClassName("hard_nb")[0].innerText=b+1,a("#module-19 .hard_nb").css({"font-weight":"bold",color:"#5585B6"});var d=parseInt(p.getElementsByClassName("better_nb")[0].innerText)-1;p.getElementsByClassName("better_nb")[0].innerText=d,a("#module-19 .better_nb").css({"font-weight":"normal",color:"black"}),0===d&&a("#module-19 .better").attr("src","../blocks/like/img//better_BW.png"),l=n.HARD;break;case n.NULL:a.ajax({type:"POST",url:"../blocks/like/update_db.php",dataType:"json",data:{func:"insert",userid:g,cmid:19,type:1,vote:n.HARD},success:function(a){console.log(a)}}),p.getElementsByClassName("hard_nb")[0].innerText=b+1,a("#module-19 .hard_nb").css({"font-weight":"bold",color:"#5585B6"}),p.getElementsByClassName("group_nb")[0].innerText=o+1,l=n.HARD}}),a("#module-19 .reactions").mouseover(function(){m=!0}).mouseout(function(){m=!1,clearTimeout(k),k=setTimeout(function(){m||(a("#module-19 .hard").css({"pointer-events":"none"}).delay(50).animate({top:-7.5,left:80,height:0},500),a("#module-19 .hard_nb").delay(50).hide(300),a("#module-19 .better").css({"pointer-events":"none"}).delay(300).animate({top:-7.5,left:35,height:0},500),a("#module-19 .better_nb").delay(300).hide(300),a("#module-19 .easy").css({"pointer-events":"none"}).delay(600).animate({top:-7.5,left:-10,height:0},500),a("#module-19 .easy_nb").delay(600).hide(300),d(),a("#module-19 .group_img").show(0).delay(500).animate({top:0,left:0,height:20},300),a("#module-19 .group_nb").delay(600).show(300))},1e3)})})}}});