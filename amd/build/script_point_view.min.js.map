{"version":3,"sources":["../src/script_point_view.js"],"names":["define","$","ajax","notification","init","envconf","css","each","index","element","find","length","prepend","userId","parseInt","userid","courseId","courseid","contextId","contextid","ajaxPromises","call","methodname","args","fail","exception","when","done","ajaxResult0","ajaxResult1","ajaxResult2","ajaxResult3","ajaxResult4","ajaxResult5","pointViewsSQL","pix","trackcolor","moduleSelect","Reactions","NULL","EASY","BETTER","HARD","reactionArray","reactionVotedArray","totalVoteArray","timerReactionsArray","timerGroupImgArray","forEach","moduleIdParam","moduleId","updateGroupImg","module","easyVote","getElementsByClassName","innerText","betterVote","hardVote","groupImg","groupNb","addClass","removeClass","attr","updatePointViewSql","searchModule","assign","resultSearch","cmid","toString","groupImgMouseOver","event","stop","animate","top","left","height","data","setTimeout","hide","delay","show","clearTimeout","groupImgMouseOut","mouseOver","widthParam","reactionName","width","translation","leftReaction","nbReation","mouseOut","onClick","isOnMainPage","ids","includes","func","vote","reactionSelect","text","reationSelectName","nbReationSelect","reactionMouseOver","reactionMouseOut","not","mouseover","mouseout","createReactions","courseBoxSelector","pointViewsModule","htmlBlock","easy","easytxt","typeone","better","bettertxt","typetwo","hard","hardtxt","typethree","total","document","getElementById","querySelectorAll","prop","append","manageReact","uservote","zone","click","className","hardSelector","hardLeft","slice","value","position","id","difficultyLevel","difficulty","difficultyBlock","complete","greentrack","bluetrack","redtrack","blacktrack"],"mappings":"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","sourcesContent":["/* Include JQuery */\ndefine(['jquery', 'core/ajax', 'core/notification'], function($, ajax, notification) {\n    return {\n        init: function(envconf) {\n            /* Wait that the DOM is fully loaded */\n            $(function() {\n\n                /* Resize the activity name field to give space to Likes icons */\n                $('.mod-indent-outer').css({'width': '85%'});\n\n                /* Folder friendly */\n                $('.folder .mod-indent-outer').each(function(index, element) {\n                    if (!$(element).find(\".activityinstance\").length > 0) {\n                        $(element).prepend('<div class=\"activityinstance\" style=\"width: 0;\"><a></a></div>');\n                    }\n                });\n\n                /* ID of the current user */\n                var userId = parseInt(envconf.userid);\n\n                var courseId = envconf.courseid;\n\n                var contextId = envconf.contextid;\n\n                var ajaxPromises = ajax.call([\n                    {\n                        methodname: 'block_point_view_get_database',\n                        args: {\n                            userid: userId,\n                            courseid: courseId\n                        },\n                        fail: notification.exception\n                    },\n                    {\n                        methodname: 'block_point_view_get_pixparam',\n                        args: {\n                            courseid: courseId,\n                            contextid: contextId\n                        },\n                        fail: notification.exception\n                    },\n                    {\n                        methodname: 'block_point_view_get_moduleselect',\n                        args: {\n                            courseid: courseId,\n                        },\n                        fail: notification.exception\n                    },\n                    {\n                        methodname: 'block_point_view_get_difficulty_levels',\n                        args: {\n                            courseid: courseId,\n                        },\n                        fail: notification.exception\n                    },\n                    {\n                        methodname: 'block_point_view_get_track_colors',\n                        args: {},\n                        fail: notification.exception\n                    },\n                    {\n                        methodname: 'block_point_view_get_enrol_list',\n                        args: {\n                            userid: userId,\n                        },\n                        fail: notification.exception\n                    }\n                ]);\n\n                $.when(ajaxPromises[0], ajaxPromises[1], ajaxPromises[2], ajaxPromises[3], ajaxPromises[4], ajaxPromises[5])\n                    .done(function(ajaxResult0, ajaxResult1, ajaxResult2, ajaxResult3, ajaxResult4, ajaxResult5) {\n\n                        /* Array with all the needed data about the reactions of the page */\n                        var pointViewsSQL = ajaxResult0;\n\n                        var pix = ajaxResult1;\n\n                        var difficultylevels = ajaxResult3;\n\n                        var trackcolor = ajaxResult4;\n\n                        var custom = ajaxResult5;\n\n                        /* Array of the modules which have the reactions activated */\n\n                        var moduleSelect = ajaxResult2;\n\n                        /* Enumeration of the possible reactions */\n                        var Reactions = {\n                            NULL: 0,\n                            EASY: 1,\n                            BETTER: 2,\n                            HARD: 3\n                        };\n\n                        /* Array of boolean which determine if the mouse is over or not the reaction zone */\n                        var reactionArray = {};\n                        /*  Array of Reaction of the user for the activity */\n                        var reactionVotedArray = {};\n                        /* Array of total number of reaction for the activity */\n                        var totalVoteArray = {};\n                        /* Array of timer to see how long the mouse stay out of the reaction zone */\n                        var timerReactionsArray = {};\n                        /* Array of timer to see how long the mouse stay over the reaction group image */\n                        var timerGroupImgArray = {};\n\n                        /* Initialisation of the different arrays */\n                        moduleSelect.forEach(function(moduleIdParam) {\n                            var moduleId = parseInt(moduleIdParam);\n                            reactionArray[moduleId] = false;\n                            reactionVotedArray[moduleId] = null;\n                            totalVoteArray[moduleId] = null;\n                            timerReactionsArray[moduleId] = null;\n                            timerGroupImgArray[moduleId] = null;\n                        });\n\n                        /**\n                         * Function which modify the reaction group image in terms of kind of vote\n                         * @param {Object} module\n                         * @param {int} moduleId\n                         */\n                        function updateGroupImg(module, moduleId) {\n\n                            /* Get the number of reaction for each one of it */\n                            var easyVote = parseInt(module.getElementsByClassName('easy_nb')[0].innerText);\n                            var betterVote = parseInt(module.getElementsByClassName('better_nb')[0].innerText);\n                            var hardVote = parseInt(module.getElementsByClassName('hard_nb')[0].innerText);\n                            var groupImg = 'group_';\n\n                            /* Add the image suffix if there is at least 1 vote for the selected reaction */\n                            if (easyVote) {\n                                groupImg += 'E';\n                            }\n                            if (betterVote) {\n                                groupImg += 'B';\n                            }\n                            if (hardVote) {\n                                groupImg += 'H';\n                            }\n\n                            if (reactionVotedArray[moduleId] !== null && reactionVotedArray[moduleId] !== Reactions.NULL) {\n                                var groupNb = $('#module-' + moduleId + ' .group_nb');\n                                groupNb.addClass('voted');\n                                if (totalVoteArray[moduleId] >= 10) {\n                                    groupNb.css({'font-size': '10px'});\n                                }\n                            } else {\n                                $('#module-' + moduleId + ' .group_nb').removeClass('voted');\n                            }\n\n                            /* Modify the image source of the reaction group */\n                            $('#module-' + moduleId + ' .group_img').attr('src', pix[groupImg]);\n                        }\n\n                        /**\n                         * Update PointView SQL\n                         */\n                        function updatePointViewSql() {\n                            var ajaxPromises = ajax.call([\n                                {\n                                    methodname: 'block_point_view_get_database',\n                                    args: {\n                                        userid: userId,\n                                        courseid: courseId\n                                    },\n                                    fail: notification.exception\n                                }\n                            ]);\n\n                            $.when(ajaxPromises[0])\n                                .done(function(ajaxResult0) {\n                                    pointViewsSQL = ajaxResult0;\n                                });\n                        }\n\n                        /**\n                         * Function which returns the data for the moduleId in parameter\n                         * @param {int} moduleId - ID of the module\n                         * @returns {*} - Data for moduleId module\n                         */\n                        function searchModule(moduleId) {\n\n                            /* Boolean which check if the data are in pointViewsSQL array */\n                            var assign = false;\n\n                            /* Variable which will be returned */\n                            var resultSearch;\n                            updatePointViewSql();\n                            pointViewsSQL.forEach(function(element) {\n                                if (parseInt(element.cmid) === moduleId) {\n                                    resultSearch = element;\n                                    assign = true;\n                                }\n                            });\n\n                            /* If the moduleId is not present in the array, there is no vote, so it creates an empty result */\n                            if (!assign) {\n                                resultSearch = {\n                                    'cmid': moduleId.toString(),\n                                    'courseid': courseId,\n                                    'total': '0',\n                                    'typeone': '0',\n                                    'typetwo': '0',\n                                    'typethree': '0',\n                                    'uservote': '0'\n                                };\n                            }\n\n                            return resultSearch;\n                        }\n\n                        /**\n                         * Event when the group image is mouse over\n                         * @param {Object} event\n                         */\n                        function groupImgMouseOver(event) {\n\n                            /* Clear the animation queue to avoid image blinking */\n                            $(this).stop();\n\n                            /* Pointer modification to inform a possible click or interaction */\n                            $(this).css({'cursor': 'pointer'});\n\n                            /* Widen a little to inform that the image is mouse over */\n                            $(this).animate({\n                                top: -1.5,\n                                left: -3,\n                                height: 23\n                            }, 100);\n\n                            /* IF the mouse stay over at least 0.3 seconds */\n                            timerGroupImgArray[event.data.moduleId] = setTimeout(function() {\n\n                                /* Reactions images modifications to black and white if no reaction has been made */\n                                if (parseInt((event.data.module).getElementsByClassName('easy_nb')[0].innerText) === 0) {\n                                    $('#module-' + (event.data.moduleId) + ' .easy')\n                                        .css({'-webkit-filter': 'grayscale(100%)', 'filter': 'grayscale(100%)'});\n                                }\n                                if (parseInt((event.data.module).getElementsByClassName('better_nb')[0].innerText) === 0) {\n                                    $('#module-' + (event.data.moduleId) + ' .better')\n                                        .css({'-webkit-filter': 'grayscale(100%)', 'filter': 'grayscale(100%)'});\n                                    /** ... .attr('src', '../blocks/point_view/pix/better_BW.png'); */\n                                }\n                                if (parseInt((event.data.module).getElementsByClassName('hard_nb')[0].innerText) === 0) {\n                                    $('#module-' + (event.data.moduleId) + ' .hard')\n                                        .css({'-webkit-filter': 'grayscale(100%)', 'filter': 'grayscale(100%)'});\n                                }\n\n                                /*\n                                * Hide the reaction group image with nice animation\n                                * Completely hide the reaction group image to be sure\n                                */\n                                $('#module-' + (event.data.moduleId) + ' .group_img').animate({\n                                    top: '+=15',\n                                    left: '+=35',\n                                    height: 0\n                                }, 300).hide(0);\n\n                                /* Also hide the number of total reaction */\n                                $('#module-' + (event.data.moduleId) + ' .group_nb').delay(50).hide(300);\n\n                                $('#module-' + (event.data.moduleId) + ' .actions').hide(300);\n\n                                /* Enable the pointer events for each reactions images */\n\n                                /* After a short delay, show the 'Easy !' reaction image with nice animation */\n                                $('#module-' + (event.data.moduleId) + ' .easy').delay(50).animate({\n                                    top: -15,\n                                    left: -20,\n                                    height: 20\n                                }, 300)\n                                   .css({'pointer-events': 'auto'});\n\n                                /* Also show the number of 'Easy !' reaction */\n                                $('#module-' + (event.data.moduleId) + ' .easy_nb').delay(50).show(300);\n\n                                /*\n                                 * After a delay, show the 'I'm getting better !' reaction image with nice\n                                * animation\n                                */\n                                $('#module-' + (event.data.moduleId) + ' .better').delay(200).animate({\n                                    top: -15,\n                                    left: 25,\n                                    height: 20\n                                }, 300)\n                                    .css({'pointer-events': 'auto'});\n\n                                /* Also show the number of 'I'm getting better !' reaction */\n                                $('#module-' + (event.data.moduleId) + ' .better_nb').delay(200).show(300);\n\n                                /* After a delay, show the 'So Hard...' reaction image with nice animation */\n                                $('#module-' + (event.data.moduleId) + ' .hard').delay(400).animate({\n                                    top: -15,\n                                    left: 70,\n                                    height: 20\n                                }, 300)\n                                    .css({'pointer-events': 'auto'});\n\n                                /* Also show the number of 'So Hard...' reaction */\n                                $('#module-' + (event.data.moduleId) + ' .hard_nb').delay(400).show(300);\n                            }, 500);\n\n                            /* Reset timerReactions timer */\n                            clearTimeout(timerReactionsArray[event.data.moduleId]);\n\n                            /* IF the mouse stay over at least 3 seconds... */\n                            timerReactionsArray[event.data.moduleId] = setTimeout(function() {\n\n                                /* BUT the mouse is not in the reaction zone */\n                                if (!(reactionArray[event.data.moduleId])) {\n\n                                    /*\n                                    * Disable the pointer events for each reactions images. This is to avoid a\n                                    * bug, because this is possible  select a reaction during the hiding and\n                                    * it create a bad comportment\n                                    */\n\n                                    /*\n                                    * After a short delay, hide the 'So Hard...' reaction image with nice\n                                    * animation\n                                    */\n                                    $('#module-' + (event.data.moduleId) + ' .hard').css({'pointer-events': 'none'})\n                                        .delay(50).animate({\n                                            top: -7.5,\n                                            left: 80,\n                                            height: 0\n                                        }, 500);\n\n                                    /* Also hide the number of 'So Hard...' reaction */\n                                    $('#module-' + (event.data.moduleId) + ' .hard_nb').delay(50).hide(300);\n\n                                    /*\n                                    * After a delay, show the 'I'm getting better !' reaction image with nice\n                                    * animation\n                                    */\n                                    $('#module-' + (event.data.moduleId) + ' .better').css({'pointer-events': 'none'})\n                                        .delay(300).animate({\n                                            top: -7.5,\n                                            left: 35,\n                                            height: 0\n                                        }, 500);\n\n                                    /* Also hide the number of 'I'm getting better !' reaction */\n                                    $('#module-' + (event.data.moduleId) + ' .better_nb').delay(300).hide(300);\n\n                                    /* After a delay, hide the 'Easy !' reaction image with nice animation */\n                                    $('#module-' + (event.data.moduleId) + ' .easy').css({'pointer-events': 'none'})\n                                        .delay(600).animate({\n                                            top: -7.5,\n                                            left: -10,\n                                            height: 0\n                                        }, 500);\n\n                                    /* Also hide the number of 'Easy !' reaction */\n                                    $('#module-' + (event.data.moduleId) + ' .easy_nb').delay(600).hide(300);\n\n                                    updateGroupImg(event.data.module, event.data.moduleId);\n\n                                    /* Show the reaction group image with nice animation */\n                                    $('#module-' + (event.data.moduleId) + ' .group_img').show(0).delay(500).animate({\n                                        top: 0,\n                                        left: 0,\n                                        height: 20\n                                    }, 300);\n\n                                    if (parseInt((event.data.module).getElementsByClassName('group_nb')[0].innerText) !== 0) {\n                                        /* Also show the number of total reaction */\n                                        $('#module-' + (event.data.moduleId) + ' .group_nb').delay(600).show(300);\n                                    }\n\n                                    $('#module-' + (event.data.moduleId) + ' .actions').delay(600).show(300);\n                                }\n                            }, 2000);\n                        }\n\n                        /**\n                         * Event when the group image is mouse out\n                         * @param {Object} event\n                         */\n                        function groupImgMouseOut(event) {\n\n                            /* Clear the animation queue to avoid image blinking */\n                            $(this).stop();\n\n                            /* Reset timerGroupImg timer */\n                            clearTimeout(timerGroupImgArray[event.data.moduleId]);\n\n                            /* IF the mouse out before the reaction group hide */\n                            if ($('#module-' + (event.data.moduleId) + ' .easy').css('height') === '0px') {\n                                /* Come back to the original size to inform that the image is mouse out */\n                                $(this).animate({\n                                    top: 0,\n                                    left: 0,\n                                    height: 20\n                                }, 100);\n                            }\n                        }\n\n                        /**\n                         * Event when the reaction image is mouse over\n                         * @param {Object} event\n                         */\n                        function mouseOver(event) {\n\n                            /* Clear the animation queue to avoid image blinking */\n                            $(this).stop();\n\n                            var widthParam = $('#module-' + event.data.moduleId + ' .' + event.data.reactionName + '_txt').width();\n\n                            var translation = event.data.leftReaction - (widthParam / 2) - 10;\n                            /* Modification of the toolbox position (centered) */\n                            $('#module-' + event.data.moduleId + ' .' + event.data.reactionName + '_txt').css({\n                                '-webkit-transform': 'translateX(' + translation + 'px)',\n                                '-moz-transform': 'translateX(' + translation + 'px)',\n                                '-ms-transform': 'translateX(' + translation + 'px)',\n                                'transform': 'translateX(' + translation + 'px)'\n                            });\n\n                            /* Get the number of 'reactionName' reaction */\n                            var nbReation = parseInt((event.data.module)\n                                .getElementsByClassName(event.data.reactionName + '_nb')[0].innerText);\n\n                            /* To have the bigger image in color if there is no vote */\n                            if (nbReation === 0) {\n                                $('#module-' + event.data.moduleId + ' .' + event.data.reactionName)\n                                    .css({'-webkit-filter': '', 'filter': ''});\n                            }\n\n                            /* Pointer modification to know that we can click or interact */\n                            $(this).css({'cursor': 'pointer'});\n\n                            /* Widen a little to inform that the image is mouse over */\n                            $(this).animate({\n                                top: -25,\n                                left: event.data.leftReaction,\n                                height: 40\n                            }, 100);\n                        }\n\n                        /**\n                         * Event when the reaction image is mouse out\n                         * @param {Object} event\n                         */\n                        function mouseOut(event) {\n\n                            /* Clear the animation queue to avoid image blinking */\n                            $(this).stop();\n\n                            /* Come back to the original size to inform that the image is mouse out */\n                            $(this).animate({\n                                top: -15,\n                                left: event.data.leftReaction,\n                                height: 20\n                            }, 100);\n\n                            /* Get the number of 'reactionName' reaction */\n                            var nbReation = parseInt((event.data.module)\n                                .getElementsByClassName(event.data.reactionName + '_nb')[0].innerText);\n\n                            /* Restore the image in black and white if there is no vote */\n                            if (nbReation === 0) {\n                                $('#module-' + event.data.moduleId + ' .' + event.data.reactionName)\n                                    .css({'-webkit-filter': 'grayscale(100%)', 'filter': 'grayscale(100%)'});\n                            }\n                        }\n\n                        /**\n                         * Event when the reaction image is clicked\n                         * @param {Object} event\n                         */\n                        function onClick(event) {\n                            /* Test if action is on main if true then test if user is enrolled in course */\n                            var isOnMainPage = (courseId !== 1 ? true : (custom.ids).includes(event.data.moduleId.toString(10)));\n                            if (isOnMainPage) {\n                                if (userId !== null && userId !== 1) {\n\n                                    /* Get the number of 'reactionName' reaction */\n                                    var nbReation = parseInt((event.data.module)\n                                        .getElementsByClassName(event.data.reactionName + '_nb')[0].innerText);\n\n                                    /* Get the total number of reaction */\n                                    totalVoteArray[event.data.moduleId] = parseInt((event.data.module)\n                                        .getElementsByClassName('group_nb')[0].innerText);\n\n                                    /* IF there is no 'reactionName' reaction, change the emoji in black and white */\n                                    if (nbReation === 0) {\n                                        $('#module-' + event.data.moduleId + ' .' + event.data.reactionName)\n                                            .css({'-webkit-filter': '', 'filter': ''});\n                                    }\n\n                                    /* IF this is a new vote for the user */\n                                    if (reactionVotedArray[event.data.moduleId] === Reactions.NULL) {\n\n                                        /* AJAX call to the PHP function which add a new line in DB */\n                                        ajax.call([\n                                            {\n                                                methodname: 'block_point_view_update_db',\n                                                args: {\n                                                    func: 'insert',\n                                                    userid: userId,\n                                                    courseid: courseId,\n                                                    cmid: event.data.moduleId,\n                                                    vote: event.data.reactionSelect\n                                                },\n                                                done: function() {\n\n                                                    /* Increment the number of the new reaction of 1 */\n                                                    $('#module-' + event.data.moduleId + ' .' + event.data.reactionName + '_nb')\n                                                        .text(nbReation + 1);\n\n                                                    /* Update the text appearance to know that this is the selected reaction */\n                                                    $('#module-' + event.data.moduleId + ' .' + event.data.reactionName + '_nb')\n                                                        .css({\n                                                        'font-weight': 'bold',\n                                                        'color': '#5585B6'\n                                                    });\n\n                                                    /* Update the value of total number reaction with an increment of 1 */\n                                                    (event.data.module).getElementsByClassName('group_nb')[0].innerText =\n                                                        (totalVoteArray[event.data.moduleId] + 1);\n\n                                                    /* Update the current reation with the new one */\n                                                    reactionVotedArray[event.data.moduleId] = event.data.reactionSelect;\n                                                },\n                                                fail: notification.exception\n                                            }\n                                        ]);\n                                    } else if (reactionVotedArray[event.data.moduleId] === event.data.reactionSelect) {\n                                        /* IF the user canceled its vote */\n\n                                        /* AJAX call to the PHP function which remove a line in DB */\n                                        ajax.call([\n                                            {\n                                                methodname: 'block_point_view_update_db',\n                                                args: {\n                                                    func: 'remove',\n                                                    userid: userId,\n                                                    courseid: courseId,\n                                                    cmid: event.data.moduleId,\n                                                    vote: event.data.reactionSelect\n                                                },\n                                                done: function() {\n\n                                                    /* Decrement the number of old of 1 */\n                                                    nbReation--;\n\n                                                    /* Update the number of old reaction */\n                                                    $('#module-' + event.data.moduleId + ' .' + event.data.reactionName + '_nb')\n                                                        .text(nbReation);\n\n                                                    /**\n                                                    * Update the text appearance to know that this is no longer\n                                                    * the selected reaction\n                                                    */\n                                                    $('#module-' + event.data.moduleId + ' .' + event.data.reactionName + '_nb')\n                                                        .css({\n                                                        'font-weight': 'normal',\n                                                        'color': 'black'\n                                                    });\n\n                                                    /*\n                                                        * IF after the decrementation, the number of old reaction is 0\n                                                        * THEN change the emoji in black and white\n                                                        */\n                                                    if (nbReation === 0) {\n                                                        $('#module-' + event.data.moduleId + ' .' + event.data.reactionName)\n                                                            .css({\n                                                                '-webkit-filter': 'grayscale(100%)',\n                                                                'filter': 'grayscale(100%)'\n                                                            });\n                                                    }\n\n                                                    /* Update the value of total number reaction with an decrement of 1 */\n                                                    (event.data.module).getElementsByClassName('group_nb')[0].innerText =\n                                                        (totalVoteArray[event.data.moduleId] - 1);\n\n                                                    /* Update the current reaction with 'none reaction' */\n                                                    reactionVotedArray[event.data.moduleId] = Reactions.NULL;\n                                                },\n                                                fail: notification.exception\n                                            }\n                                        ]);\n                                    } else {\n                                        /* IF the user update its vote */\n\n                                        /* AJAX call to the PHP function which update a line in DB */\n                                        ajax.call([\n                                            {\n                                                methodname: 'block_point_view_update_db',\n                                                args: {\n                                                    func: 'update',\n                                                    userid: userId,\n                                                    courseid: courseId,\n                                                    cmid: event.data.moduleId,\n                                                    vote: event.data.reactionSelect\n                                                },\n                                                done: function() {\n\n                                                    /* Increment the number of 'reactionName' reaction of 1 */\n                                                    $('#module-' + event.data.moduleId + ' .' + event.data.reactionName + '_nb')\n                                                        .text(nbReation + 1);\n\n                                                    /* Update the text appearance to know that this is the selected reaction */\n                                                    $('#module-' + (event.data.moduleId) + ' .' + (event.data.reactionName) + '_nb')\n                                                        .css({\n                                                        'font-weight': 'bold',\n                                                        'color': '#5585B6'\n                                                    });\n\n                                                    /* Find the name of the reaction selected */\n                                                    var reationSelectName;\n                                                    switch (reactionVotedArray[event.data.moduleId]) {\n                                                        case Reactions.EASY:\n                                                            reationSelectName = 'easy';\n                                                            break;\n                                                        case Reactions.BETTER:\n                                                            reationSelectName = 'better';\n                                                            break;\n                                                        case Reactions.HARD:\n                                                            reationSelectName = 'hard';\n                                                            break;\n                                                    }\n\n                                                    /*  Get the current number of the old reaction and decrement it of 1 */\n                                                    var nbReationSelect = parseInt((event.data.module)\n                                                        .getElementsByClassName(reationSelectName + '_nb')[0].innerText) - 1;\n\n                                                    /* Update the value of the old reaction */\n                                                    $('#module-' + event.data.moduleId + ' .' + reationSelectName + '_nb')\n                                                        .text(nbReationSelect);\n\n                                                    /** Update the text appearance to know that this is no longer\n                                                     * the selected reaction\n                                                     */\n                                                    $('#module-' + (event.data.moduleId) + ' .' + reationSelectName + '_nb')\n                                                        .css({\n                                                        'font-weight': 'normal',\n                                                        'color': 'black'\n                                                    });\n\n                                                    /*\n                                                    * IF after the decrementation, the number of the old\n                                                    * reaction is 0 THEN change the emoji in black and white\n                                                    */\n                                                    if (nbReationSelect === 0) {\n                                                        $('#module-' + (event.data.moduleId) + ' .' + reationSelectName)\n                                                            .css({\n                                                                '-webkit-filter': 'grayscale(100%)',\n                                                                'filter': 'grayscale(100%)'\n                                                            });\n                                                    }\n\n                                                    /* Update the current reation with the new one */\n                                                    reactionVotedArray[event.data.moduleId] = event.data.reactionSelect;\n                                                },\n                                                fail: notification.exception\n                                            }\n                                        ]);\n                                    }\n                                }\n                            } else {\n                                /** FIXME alert(\"You are not enrolled in this course, you can't react to this.\"); */\n                            }\n                        }\n\n                        /**\n                         * Event when the reaction zone is mouse over\n                         * @param {Object} event\n                         */\n                        function reactionMouseOver(event) {\n\n                            /* The mouse is over the reaction zone */\n                            reactionArray[event.data.moduleId] = true;\n                        }\n\n                        /**\n                         * Event when the reaction zone is mouse out\n                         * @param {Object} event\n                         */\n                        function reactionMouseOut(event) {\n\n                            /* The mouse is out the reaction zone */\n                            reactionArray[event.data.moduleId] = false;\n\n                            /* Reset timerReactions timer */\n                            clearTimeout(timerReactionsArray[event.data.moduleId]);\n\n                            /* IF the mouse stay over at least 3 seconds... */\n                            timerReactionsArray[event.data.moduleId] = setTimeout(function() {\n\n                                /* BUT that the mouse is note in the reaction zone */\n                                if (!(reactionArray[event.data.moduleId])) {\n\n                                    /*\n                                    * Disable the pointer events for each reactions images. This is to avoid a\n                                    * bug, because this is possible  select a reaction during the hiding and\n                                    * it create a bad comportment\n                                    */\n\n                                    /*\n                                    * After a short delay, hide the 'So Hard...' reaction image with nice\n                                    * animation\n                                    */\n\n                                    $('#module-' + (event.data.moduleId) + ' .hard').css({'pointer-events': 'none'})\n                                        .delay(50).animate({\n                                            top: -7.5,\n                                            left: 80,\n                                            height: 0\n                                        }, 500);\n\n                                    /* Also hide the number of 'So Hard...' reaction */\n                                    $('#module-' + (event.data.moduleId) + ' .hard_nb').delay(50).hide(300);\n\n                                    /*\n                                    * After a delay, show the 'I'm getting better !' reaction image with nice\n                                    * animation\n                                    */\n                                    $('#module-' + (event.data.moduleId) + ' .better').css({'pointer-events': 'none'})\n                                        .delay(300).animate({\n                                            top: -7.5,\n                                            left: 35,\n                                            height: 0\n                                        }, 500);\n\n                                    /* Also hide the number of 'I'm getting better !' reaction */\n                                    $('#module-' + (event.data.moduleId) + ' .better_nb').delay(300).hide(300);\n\n                                    /* After a delay, hide the 'Easy !' reaction image with nice animation */\n                                    $('#module-' + (event.data.moduleId) + ' .easy').css({'pointer-events': 'none'})\n                                        .delay(600).animate({\n                                            top: -7.5,\n                                            left: -10,\n                                            height: 0\n                                        }, 500);\n\n                                    /* Also hide the number of 'Easy !' reaction */\n                                    $('#module-' + (event.data.moduleId) + ' .easy_nb').delay(600).hide(300);\n\n                                    updateGroupImg(event.data.module, event.data.moduleId);\n\n                                    /* Show the reaction group image with nice animation */\n                                    $('#module-' + (event.data.moduleId) + ' .group_img').delay(500).show(0).animate({\n                                        top: 0,\n                                        left: 0,\n                                        height: 20\n                                    }, 300);\n\n                                    if (parseInt((event.data.module).getElementsByClassName('group_nb')[0].innerText) !== 0) {\n                                        /* Also show the number of total reaction */\n                                        $('#module-' + (event.data.moduleId) + ' .group_nb').delay(600).show(300);\n                                    }\n\n                                    $('#module-' + (event.data.moduleId) + ' .actions').delay(600).show(300);\n                                }\n                            }, 1000);\n                        }\n\n                        $('.activity').not('.label')\n                            .mouseover(function() {\n                                $(this).css({\n                                    'background': 'linear-gradient(to right, #f4f4f4, #f4f4f4, white)',\n                                    'border-radius': '5px'\n                                });\n                            })\n                            .mouseout(function() {\n                                $(this).css({'background': ''});\n                            });\n                        createReactions();\n\n                        /**\n                         * Create reaction\n                         */\n                        function createReactions() {\n                            /* For each selected module, create a reaction zone */\n                            moduleSelect.forEach(function(moduleIdParam) {\n                                var moduleId = parseInt(moduleIdParam);\n                                var courseBoxSelector = $('.coursebox[data-courseid=\"' + moduleId + '\"]');\n                                var pointViewsModule = searchModule(moduleId);\n\n                                /* Create the HTML block necessary to each activity */\n                                var htmlBlock = '<div class=\"block_point_view reactions\">' +\n                                    '<!-- EASY ! --><span class=\"tooltipreaction\">' +\n                                    '<img src=\"' + pix.easy + '\" alt=\" \" class=\"easy\"/>' +\n                                    '<span class=\"tooltiptextreaction easy_txt\">' + pix.easytxt + '</span></span>' +\n                                    '<span class=\"easy_nb\">' + pointViewsModule.typeone + '</span>' +\n                                    '<!-- I\\'M GETTING BETTER --><span class=\"tooltipreaction\">' +\n                                    '<img src=\"' + pix.better + '\" alt=\" \" class=\"better\"/>' +\n                                    '<span class=\"tooltiptextreaction better_txt\">' + pix.bettertxt + '</span></span>' +\n                                    '<span class=\"better_nb\">' + pointViewsModule.typetwo + '</span>' +\n                                    '<!-- SO HARD... --><span class=\"tooltipreaction\">' +\n                                    '<img src=\"' + pix.hard + '\" alt=\" \" class=\"hard\"/>' +\n                                    '<span class=\"tooltiptextreaction hard_txt\">' + pix.hardtxt + '</span></span>' +\n                                    '<span class=\"hard_nb\">' + pointViewsModule.typethree + '</span></div>' +\n                                    '<!-- GROUP --><div class=\"block_point_view group\">' +\n                                    '<img src=\"\" alt=\" \" class=\"group_img\"/>' +\n                                    '<span class=\"group_nb\">' + pointViewsModule.total + '</span></div>';\n\n                                if (\n                                    (document.getElementById('module-' + moduleId) !== null) ||\n                                    (document.querySelectorAll('[data-courseid=\"' + moduleId + '\"]')) !== null) {\n                                    courseBoxSelector.prop('id', 'module-' + moduleId);\n\n                                    /* Export the HTML block */\n                                    if (courseId !== 1) {\n                                        $('#module-' + moduleId + ' .activityinstance').append(htmlBlock);\n                                        manageReact(moduleId, '#module-');\n                                    } else if (courseBoxSelector.find('.reaction_box').length === 0) {\n                                        courseBoxSelector.append(\"<div class='reaction_box'></div>\");\n                                        courseBoxSelector.append(\"<div class='difficulty_box'></div>\");\n                                        $('.coursebox[data-courseid=\"' + moduleId + '\"] .reaction_box').append(htmlBlock);\n                                        manageReact(moduleId, '#module-');\n                                    }\n                                }\n                                if (courseBoxSelector.find('.reaction_box').length === 0) {\n                                    courseBoxSelector.append(\"<div class='reaction_box'></div>\");\n                                    courseBoxSelector.append(\"<div class='difficulty_box'></div>\");\n                                    courseBoxSelector.append(htmlBlock);\n                                    if (courseBoxSelector.find('.reaction_box').length !== 0) {\n                                        manageReact(moduleId, '.course_category_tree #module-');\n                                    }\n                                }\n\n                                /* Initialise reactionVotedArray and CSS */\n                                switch (parseInt(pointViewsModule.uservote)) {\n                                    case 1:\n                                        reactionVotedArray[moduleId] = Reactions.EASY;\n                                        /* Update the text appearance to know that this is the selected reaction */\n                                        $('#module-' + moduleId + ' .easy_nb').css({\n                                            'font-weight': 'bold',\n                                            'color': '#5585B6'\n                                        });\n                                        break;\n                                    case 2:\n                                        reactionVotedArray[moduleId] = Reactions.BETTER;\n                                        /* Update the text appearance to know that this is the selected reaction */\n                                        $('#module-' + moduleId + ' .better_nb').css({\n                                            'font-weight': 'bold',\n                                            'color': '#5585B6'\n                                        });\n                                        break;\n                                    case 3:\n                                        reactionVotedArray[moduleId] = Reactions.HARD;\n                                        /* Update the text appearance to know that this is the selected reaction */\n                                        $('#module-' + moduleId + ' .hard_nb').css({\n                                            'font-weight': 'bold',\n                                            'color': '#5585B6'\n                                        });\n                                        break;\n                                    default:\n                                        reactionVotedArray[moduleId] = Reactions.NULL;\n                                        break;\n                                }\n\n                                var module = document.getElementById('module-' + moduleId);\n                                if (module !== null) {\n                                    updateGroupImg(module, moduleId);\n                                }\n                            });\n                        }\n\n                        /**\n                         * @param {string} moduleIdParam\n                         * @param {string} zone\n                         */\n                        function manageReact(moduleIdParam, zone) {\n                            var moduleId = parseInt(moduleIdParam);\n                            /* Shortcut to select the 'module-' + moduleId ID in the page */\n                            var module = document.getElementById('module-' + moduleId);\n\n                            if (module !== null) {\n                                if (parseInt(module.getElementsByClassName('group_nb')[0].innerText) === 0) {\n                                    /* Also show the number of total reaction */\n                                    $(zone + moduleId + ' .group_nb').hide();\n                                }\n\n                                updateGroupImg(module, moduleId);\n\n                                /* Management of the reaction group */\n                                $(zone + moduleId + ' .group_img')\n                                    /* MOUSE OVER */\n                                    .mouseover({module: module, moduleId: moduleId}, groupImgMouseOver)\n                                    /* ON CLICK */\n                                    .click({module: module, moduleId: moduleId}, groupImgMouseOver)\n                                    /* MOUSE OUT */\n                                    .mouseout({moduleId: moduleId}, groupImgMouseOut)\n                                ;\n\n                                /* Management of the 'Easy !' reaction */\n                                $(zone + moduleId + ' .easy')\n                                    /* MOUSE OVER */\n                                    .mouseover({\n                                        module: module, moduleId: moduleId, reactionName: 'easy',\n                                        className: 'easy_txt', leftReaction: -30\n                                    }, mouseOver)\n                                    /* MOUSE OUT */\n                                    .mouseout({\n                                        module: module, moduleId: moduleId, leftReaction: -20,\n                                        reactionName: 'easy'\n                                    }, mouseOut)\n                                    /* ON CLICK */\n                                    .click({\n                                        module: module, moduleId: moduleId, reactionName: 'easy',\n                                        reactionSelect: Reactions.EASY\n                                    }, onClick)\n                                ;\n\n                                /* Management of the 'I'm getting better !' reaction */\n                                $(zone + moduleId + ' .better')\n                                    /* MOUSE OVER */\n                                    .mouseover({\n                                        module: module, moduleId: moduleId, reactionName: 'better',\n                                        className: 'better_txt', leftReaction: 15\n                                    }, mouseOver)\n                                    /* MOUSE OUT */\n                                    .mouseout({\n                                        module: module, moduleId: moduleId, leftReaction: 25,\n                                        reactionName: 'better'\n                                    }, mouseOut)\n                                    /* ON CLICK */\n                                    .click({\n                                        module: module, moduleId: moduleId, reactionName: 'better',\n                                        reactionSelect: Reactions.BETTER\n                                    }, onClick)\n                                ;\n\n                                var hardSelector = $(zone + moduleId + ' .hard');\n                                var hardLeft = parseInt((hardSelector.css('left')).slice(0, -2), 10);\n\n                                /* Management of the 'So hard...' reaction */\n                                hardSelector\n                                    /* MOUSE OVER */\n                                    .mouseover({\n                                        module: module, moduleId: moduleId, reactionName: 'hard',\n                                        className: 'hard_txt', leftReaction: (hardLeft - 20)\n                                    }, mouseOver)\n                                    /* MOUSE OUT */\n                                    .mouseout({\n                                        module: module, moduleId: moduleId, leftReaction: (hardLeft - 10),\n                                        reactionName: 'hard'\n                                    }, mouseOut)\n                                    /* ON CLICK */\n                                    .click({\n                                        module: module, moduleId: moduleId, reactionName: 'hard',\n                                        reactionSelect: Reactions.HARD\n                                    }, onClick)\n                                ;\n\n                                /* Management of the reaction zone */\n                                $(zone + moduleId + ' .reactions')\n                                    /* MOUSE OVER */\n                                    .mouseover({moduleId: moduleId}, reactionMouseOver)\n                                    /* MOUSE OUT */\n                                    .mouseout({module: module, moduleId: moduleId}, reactionMouseOut)\n                                ;\n                            }\n                        }\n\n                        /* Display difficulty tracks */\n                        difficultylevels.forEach(function(value) {\n                            var position = (courseId === 1 ? \" .difficulty_box\" : \" .activityinstance a\");\n                            $('.coursebox[data-courseid=\"' + value.id + '\"]').prop('id', 'module-' + value.id);\n                            if (value.difficultyLevel !== '0') {\n                                var difficulty;\n                                switch (parseInt(value.difficultyLevel)) {\n                                    case 1:\n                                        difficulty = 'green';\n                                        break;\n                                    case 2:\n                                        difficulty = 'blue';\n                                        break;\n                                    case 3:\n                                        difficulty = 'red';\n                                        break;\n                                    case 4:\n                                        difficulty = 'black';\n                                        break;\n                                }\n\n                                var difficultyBlock = '<div class=\"block_point_view track ' + difficulty + 'track\"></div>';\n\n                                $('#module-' + value.id + position).prepend(difficultyBlock);\n                            } else {\n                                var difficultyBlockEmpty = '<span class=\"block_point_view track\"></span>';\n                                $('#module-' + value.id + position).prepend(difficultyBlockEmpty);\n                            }\n                        });\n\n                        $('.notloaded').click(function() {\n                            $.ajax({\n                                complete: function() {\n                                    setTimeout(function() {\n                                        createReactions();\n                                    }, 4000);\n                                }\n                            });\n                        });\n\n                        /* Dont' hide tooltip when reaction are in the top of course*/\n                        $('#region-main > .card').css({'overflow-x': 'unset'});\n\n                        /* Set the colors of difficulty tracks */\n                        $('.greentrack').css({'background-color': trackcolor.greentrack});\n                        $('.bluetrack').css({'background-color': trackcolor.bluetrack});\n                        $('.redtrack').css({'background-color': trackcolor.redtrack});\n                        $('.blacktrack').css({'background-color': trackcolor.blacktrack});\n\n                        /* Add animation to menu button */\n                        $('.block_point_view #menu_point_view_img')\n                            .mouseover(function() {\n                                $(this).css({\n                                    '-webkit-filter': 'invert(100%)',\n                                    '-moz-filter': 'invert(100%)',\n                                    '-o-filter': 'invert(100%)',\n                                    '-ms-filter': 'invert(100%)'\n                                });\n                            })\n                            .mouseout(function() {\n                                $(this).css({\n                                    '-webkit-filter': 'invert(0%)',\n                                    '-moz-filter': 'invert(0%)',\n                                    '-o-filter': 'invert(0%)',\n                                    '-ms-filter': 'invert(0%)'\n                                });\n                            });\n                    });\n            });\n        }\n    };\n});"],"file":"script_point_view.min.js"}